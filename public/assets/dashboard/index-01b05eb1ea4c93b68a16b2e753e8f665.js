((function(){this.App=this.App||{},App.config={chart_title:"China in Africa",chart_longer_title:"China in Africa",vis_height:300,vis_width:800,vis_padding_left:100,vis_padding_top:10,vis_padding_bottom:50,always_rescale_to_fit:!1,always_remove_blanks:!1,param_joiner:"-and-",now_showing:function(a){return""+a.Year+" "+a.measure+" \t\t"+a.Recipient+" "+a.Flow_Class+" for "+a.Purpose},data:{file:"/projects.csv?active_string=Active",get_file_size:!1,preprocessing_function:function(a){var b,c,d,e;e=[];for(c=0,d=a.length;c<d;c++)b=a[c],parseInt(b.year)>=1980&&e.push(b);return e},record_hyperlink_function:function(a){return"http://china.aiddata.org/projects/"+a.ProjectID},columns:[{name:"Commitment",values_function:function(a){var b,c,d,e;e=[];for(c=0,d=a.length;c<d;c++)b=a[c],e.push(Number(b.usd_defl));return e},interface_type:"value",dv_type:dv.type.numeric,now_showing:{value:function(a){return"China gave $"+d3.format(",.2f")(a)}}},{name:"Count",values_function:function(a){var b,c,d,e;e=[];for(c=0,d=a.length;c<d;c++)b=a[c],e.push(1);return e},interface_type:"value",dv_type:dv.type.numeric,now_showing:{value:function(a){return"China had "+a+" projects"}}},{name:"Year",values_function:function(a){return a.map(function(a){return a.year})},interface_type:"filter",dv_type:dv.type.ordinal,now_showing:{single:function(a){return"In "+a+","},multiple:function(a){return"Over "+a.length+" years, "}}},{name:"Recipient",values_function:function(a){var b,c,d,e;e=[];for(c=0,d=a.length;c<d;c++)b=a[c],e.push(b.recipient_condensed);return e},interface_type:"filter",dv_type:dv.type.nominal,now_showing:{single:function(a){return"to "+a},multiple:function(a){return""}}},{name:"Flow_Class",values_function:function(a){var b,c,d,e;e=[];for(c=0,d=a.length;c<d;c++)b=a[c],e.push(b.flow_class);return e},interface_type:"filter",dv_type:dv.type.ordinal,now_showing:{single:function(a){return"as "+a},multiple:function(a){return""}}},{name:"Purpose",values_function:function(a){var b,c,d,e;e=[];for(c=0,d=a.length;c<d;c++)b=a[c],e.push(b.sector);return e},interface_type:"filter",dv_type:dv.type.ordinal,now_showing:{single:function(a){return"for "+a},multiple:function(a){return"for "+a.length+" sectors"}}},{name:"Intent",values_function:function(a){var b,c,d,e;e=[];for(c=0,d=a.length;c<d;c++)b=a[c],e.push(b.intent);return e},interface_type:"filter",dv_type:dv.type.ordinal,now_showing:{single:function(a){return"for "+a},multiple:function(a){return""}}},{name:"Status",values_function:function(a){var b,c,d,e;e=[];for(c=0,d=a.length;c<d;c++)b=a[c],e.push(b.status);return e},interface_type:"filter",dv_type:dv.type.ordinal,now_showing:{single:function(a){return"for "+a},multiple:function(a){return""}}},{name:"Flow",values_function:function(a){var b,c,d,e;e=[];for(c=0,d=a.length;c<d;c++)b=a[c],e.push(b.flow);return e},interface_type:"filter",dv_type:dv.type.ordinal,now_showing:{single:function(a){return"for "+a},multiple:function(a){return""}}},{name:"ProjectID",values_function:function(a){var b,c,d,e;e=[];for(c=0,d=a.length;c<d;c++)b=a[c],e.push(b.project_id);return e},interface_type:"none",dv_type:dv.type.ordinal}]}},$("title").text(App.config.chart_title),$("#chart_title").text(App.config.chart_title),$("#chart_longer_title").text(App.config.chart_longer_title)})).call(this),function(){this.App=this.App||{},App.render_url_from_html_state=function(){var a,b;a={},a.x_axis=App.current_x_axis()||App.current_x_axis(App.filters[0]),a.y_axis=App.current_y_axis()||App.current_y_axis(App.values[0]),a.remove_blanks=""+App.remove_blanks(),a.sort_order=App.sort_order(),App.get_all_filters().forEach(function(b){if(b.values.length>0)return a[b.key]=b.values.join(App.config.param_joiner)}),b=$("#overlay_header").is(":visible"),b&&(a.overlay=!0,a.overlay_target=$("#overlay_target").text(),a.page=$("#page_number").text()||1),console.log("navigating to",a);if(App.respond_to_html_changes)return Finch.navigate(a)},App.current_x_axis=function(a){var b;return a&&($(".x_axis_controller").removeClass("current_x_axis"),b=$("#"+a+"_accordion .x_axis_controller").addClass("current_x_axis"),console.log("requesting new with x-axis:",a,"selector:",b),App.render_url_from_html_state()),$(".current_x_axis").attr("data-column-name")},App.current_y_axis=function(a){var b;return a&&(console.log("requested y-axis: ",a),$(".y_axis_controller").removeClass("current_y_axis"),b=$("#value_container .y_axis_controller."+a).addClass("current_y_axis"),console.log("requesting new with y-axis:",a,"selector:",b),App.render_url_from_html_state(),App.rescale()),$(".current_y_axis").attr("data-column-name")},App.toggle_filter=function(a){var b,c,d;return c=$(a),b=$(a).attr("data-column"),d=$(a).attr("data-value"),c.hasClass("inactive")?App.set_filter(b,d,"active"):App.set_filter(b,d,"inactive")},App.set_filter=function(a,b,c){var d;c==null&&(c="active"),console.log("set filter: "+b+" -> "+c);if(d=$("."+a+".value[data-value='"+b+"']"))return d.removeClass("active").removeClass("inactive").addClass(c),console.log(d),App.render_url_from_html_state()},App.set_all_filters=function(a,b,c){var d;return c==null&&(c=!1),a==="inactive"?d=$("."+b+".value.active"):a==="active"&&(d=$("."+b+".value.inactive")),c?d.each(function(a,b){if($(b).is(":visible"))return $(b).toggleClass("inactive").toggleClass("active")}):d.toggleClass("inactive").toggleClass("active"),console.log("set all filters to ",a,b,d,"visible_only",c),App.render_url_from_html_state()},App.get_filter_values=function(a,b){var c,d;return c=(b!=null?b.all_if_none:void 0)||!1,d=$(".filters ."+a+".active.value").map(function(a,b){return b.innerHTML.trim()}).get(),d.length===0&&c&&(d=$(".filters ."+a+".value").map(function(a,b){return b.innerHTML.trim()}).get(),console.log("got values because none",d)),d},App.get_all_filters=function(a){var b,c;return b=App.filters,c=[],b.forEach(function(b){var d,e;return e=App.get_filter_values(b,a),d={key:b,values:e},c.push(d)}),c},App.rescale=function(){return App.render_dashboard({rescale_y:!0})},App.sort_order=function(a){var b,c,d,e;return c=$("#sort_order"),a&&(console.log("setting sort_order to",a),d=App.sort_orders.map(function(a){return a.name}).indexOf(a),e=App.sort_orders[d],c=$("#sort_order").attr("data-sort-order",e.name).html("Sort order: "+e.text),App.render_url_from_html_state()),b=c.attr("data-sort-order")},App.sort_order_function=function(){return App.sort_orders.filter(function(a){return a.name===App.sort_order()})[0]["function"]},App.toggle_sort_order=function(){var a,b,c,d;return b=App.sort_orders.length,a=App.sort_orders.map(function(a){return a.name}).indexOf(App.sort_order()),c=(a+1)%b,d=App.sort_orders[c],App.sort_order(d.name)},App.remove_blanks=function(){var a,b;return b=$("#remove_blanks"),a=b.hasClass("btn-success")},App.set_remove_blanks=function(a){var b,c;return c=$("#remove_blanks"),a===!0?(c.removeClass("btn-danger").addClass("btn-success"),b="On"):(c.addClass("btn-danger").removeClass("btn-success"),b="Off"),c.text("Remove blanks: "+b),App.render_url_from_html_state()},App.toggle_remove_blanks=function(){return App.remove_blanks()===!0?App.set_remove_blanks(!1):App.set_remove_blanks(!0)}}.call(this),function(){var a,b,c,d,e=[].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1};this.App=this.App||{},c=function(a,b){return $(this).attr("opacity",".6"),d(a)},a=function(a,b){return $(this).attr("opacity","1")},d=function(a){var b,c,d;return b=App.get_all_filters({all_if_none:!0}),c={},b.forEach(function(b){var d,e,f,g,h;h=b.values,e=b.key,g=function(){var a,b,c,f;c=App.config.data.columns,f=[];for(a=0,b=c.length;a<b;a++)d=c[a],d.name===e&&f.push(d);return f}()[0],g!=null&&(e===App.current_x_axis()?c[g.name]=g.now_showing.single(a.key):h.length>1?c[g.name]=g.now_showing.multiple(h):c[g.name]=g.now_showing.single(h[0])),f=function(){var a,b,c,e;c=App.config.data.columns,e=[];for(a=0,b=c.length;a<b;a++)d=c[a],d.name===App.current_y_axis()&&e.push(d);return e}()[0];if(f!=null)return c.measure=f.now_showing.value(a.value)}),d=App.config.now_showing(c),console.log("now_showing",c,"string: ",d),$("#detail").text(d)},b=function(a){var b,c,d,e;return $("#rescale").removeClass("btn-warning").addClass("btn-primary"),b=[0,d3.max(a.map(function(a){return a.value}))],c=App.config,App.amount_scale=d3.scale.linear().domain(b).range([c.vis_height-c.vis_padding_top-c.vis_padding_bottom,5]),d=d3.svg.axis().scale(App.amount_scale).orient("right").tickFormat(function(a){if(1e3>=a)return""+d3.format("0,r")(d3.round(a,0));if(1e6>a&&a>=1e3)return""+d3.round(a/1e3,0)+"K";if(1e9>a&&a>=1e6)return""+d3.round(a/1e6,1)+"M";if(a>=1e9)return""+d3.format("0,r")(d3.round(a/1e9,2))+"B"}).ticks(4),App.amount_color_scale=d3.scale.linear().domain([b[0],b[1]/2,b[1]*1.1]).range(["blue","purple","red"]),e=App.svg.selectAll(".y_axis").data([a]),e.enter().append("g").attr("class","y_axis").attr("transform","translate(10, "+c.vis_padding_top+")"),e.call(d)},App.render_dashboard=function(d){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x;o=(d!=null?d.rescale_y:void 0)||!1,$("#detail").html("<i>Mouseover for detail</i>"),console.log("Getting all filters"),k=App.get_all_filters(),j=App.projects.where(function(a,b){var c;return c=!0,k.forEach(function(d){var f;if(d.values.length>0&&!(f=a.get(d.key,b),e.call(d.values,f)>=0))return c=!1}),c}),console.log("filtering by ",k),t=App.current_x_axis(),console.log("x-axis:",t),q=j.query({dims:[t],vals:[dv.sum(App.current_y_axis())]}),console.log("starting to make sums"),l=q[0].map(function(a,b){return{key:a,value:q[1][b]}}),console.log("summing by",t,"returned",l),App.remove_blanks()||App.config.always_remove_blanks?n=function(){var a,b,c;c=[];for(a=0,b=l.length;a<b;a++)p=l[a],p.value>0&&c.push(p);return c}():(f=App.get_filter_values(t,{all_if_none:!0}),n=function(){var a,b,c,d;d=[];for(a=0,b=l.length;a<b;a++)p=l[a],(c=p.key,e.call(f,c)>=0)&&d.push(p);return d}()),console.log("about to make my domain:",n),i=_.sortBy(n,App.sort_order_function()).map(function(a){return a.key}),console.log("Making x axis by",t,"with these values",i),w=d3.scale.ordinal().domain(i).rangeBands([0,App.config.vis_width-App.config.vis_padding_left],.1),x=630/i.length,v=d3.svg.axis().scale(w).orient("bottom"),console.log("rendering this_x_axis to this_x_axis_svg"),u=App.svg.selectAll(".x_axis").data([t]),u.enter().append("g").attr("class","x_axis").attr("transform","translate("+App.config.vis_padding_left+", "+(App.config.vis_height-App.config.vis_padding_bottom)+")"),u.call(v).selectAll("text").style("text-anchor","end").attr("dx","-.8em").attr("dy",".15em").attr("transform",function(a){return"rotate(-65)"});if(!App.amount_scale||o)console.log("Fetching a new y-scale"),b(n);console.log("binding and rendering new bars"),g=App.svg.selectAll(".bar").data(n,function(a){return a.key}),g.enter().append("rect").attr("class","bar").style("cursor","pointer"),g.exit().remove(),r=!1,s=!1,h=0,m=App.config.vis_height-App.config.vis_padding_top-App.config.vis_padding_bottom,g.transition().delay(function(a,b){return b*10}).attr("x",function(a,b){return""+(App.config.vis_padding_left+w(a.key))+"px"}).attr("y",function(a){return App.config.vis_padding_top+App.amount_scale(a.value)+"px"}).attr("width",x).attr("height",function(a){var b;return b=m-App.amount_scale(a.value),b>m&&(r=!0),b>h&&(h=b),b+"px"}).style("fill",function(a){return App.amount_color_scale(a.value)}),console.log("resizing according to calculated sizes"),h<m/2&&(s=!0),s?$("#rescale").removeClass("btn-primary").addClass("btn-warning"):$("#rescale").addClass("btn-primary").removeClass("btn-warning");if(r||App.config.always_rescale_to_fit)b(n),g.transition().delay(function(a,b){return b*20+250}).attr("y",function(a){return App.config.vis_padding_top+App.amount_scale(a.value)+"px"}).attr("height",function(a){var b;return b=m-App.amount_scale(a.value),b+"px"}).style("fill",function(a){return App.amount_color_scale(a.value)});return g.on("mouseover",c).on("mouseout",a).on("click",function(a,b){return App.show_overlay(a.key,{page:1})}),console.log("finished rendering!"),n}}.call(this),function(){var a,b,c,d;this.App=this.App||{},App.initialized=!1,App.respond_to_html_changes=!1,App.initialize=function(b){return console.log("pulling from csv"),window.d3.csv(b,function(b){var e;return console.log("processing CSV"),App.config.data.preprocessing_function&&(b=App.config.data.preprocessing_function(b)),App.projects=dv.table(),App.config.data.columns.forEach(function(a){return App.projects.addColumn(a.name,a.values_function(b),a.dv_type)}),$("#waiting").remove(),App.svg=d3.select("#vis").append("svg").attr("height",App.config.vis_height).attr("width",App.config.vis_width),App.values=function(){var a,b,c,d;c=App.config.data.columns,d=[];for(a=0,b=c.length;a<b;a++)e=c[a],e.interface_type==="value"&&d.push(e.name);return d}(),App.filters=function(){var a,b,c,d;c=App.config.data.columns,d=[];for(a=0,b=c.length;a<b;a++)e=c[a],e.interface_type==="filter"&&d.push(e.name);return d}(),App.other_attributes=function(){var a,b,c,d;c=App.config.data.columns,d=[];for(a=0,b=c.length;a<b;a++)e=c[a],e.interface_type==="none"&&d.push(e.name);return d}(),App.attributes=function(){var a,b,c,d;c=App.config.data.columns,d=[];for(a=0,b=c.length;a<b;a++)e=c[a],d.push(e.name);return d}(),c(App.filters),d(App.values),$("#filter_container .accordion-body").addClass("in"),$(".filter_box").on("keyup",a),App.initialized=!0,console.log("finished loading"),App.start_url_observer()})},d=function(a){return $("#value_container").append("<b>Measure: </b>",a.map(function(a){return"<span class='btn controller y_axis_controller "+a+"' data-column-name='"+a+"'\t\t\t\t\t\t\t\t\tonclick='App.current_y_axis(\""+a+"\")'>\t\t\t\t\t\t\t\t\t"+a+"\t\t\t\t\t\t\t\t</span>"}).join(" "))},c=function(a){var c,d,e,f,g,h;e=0,c=0,h=[];for(f=0,g=a.length;f<g;f++)d=a[f],e%4===0&&(c+=1,$("#filter_container").append("\t\t\t\t<div class='filter_subcontainer_"+c+" row-fluid'>\t\t\t\t</div>\t\t\t\t")),b(d,".filter_subcontainer_"+c),h.push(e+=1);return h},b=function(a,b,c,d){var e;return c==null&&(c="3"),d==null&&(d="inactive"),console.log("make filter selector for ",a,"in",b),$(b).append("<div class='accordion-group span"+c+"'>\t\t\t\t<div class='accordion-heading'>\t\t\t\t\t<span class='accordion-toggle' data-toggle='collapse' data-parent='#filter_container' >\t\t\t\t\t\tFilter by "+a+":\t\t\t\t\t</span>\t\t\t\t</div> \t\t\t\t<div id='collapse_"+a+"' class='accordion-body collapse'>\t\t\t\t\t<div class='accordion-inner' id='"+a+"_accordion'>\t\t\t\t\t\t<div class='controls'>\t\t\t\t\t\t\t</div>\t\t\t\t\t\t<div class='filters'>\t\t\t\t\t\t</div>\t\t\t\t\t</div>\t\t\t\t</div>\t\t\t</div>"),e="#"+a+"_accordion",$(""+e+" .controls").append("\t\t<div class='row-fluid'>\t\t\t<a class='controller x_axis_controller btn span12' data-column-name='"+a+"' onclick='App.current_x_axis(\""+a+"\")'>\t\t\t\t\tSet this on X-axis\t\t\t</a>\t\t</div>\t\t<div class='row-fluid'>\t\t\t<span class='controller btn deactivator span6' onclick='App.set_all_filters(\"inactive\", \""+a+"\")'>\t\t\t\tDeselect All\t\t\t</span>\t\t\t<span class='controller btn activator span6' onclick='App.set_all_filters(\"active\", \""+a+"\", true)'>\t\t\t\tSelect Visible \t\t\t</span>\t\t</div>\t\t<div class='row-fluid'>\t\t\t<span> \t\t\t\t<input type='text' class='filter_box span12' value='Type to filter...' onfocus='this.value=\"\"'>\t\t\t</span>"),App.projects[a].lut.forEach(function(b,c){return $(""+e+" .filters").append("<span \t\t\t\tdata-searcher='"+b.toLowerCase()+"' \t\t\t\tdata-value='"+b+"' \t\t\t\tdata-column='"+a+"'\t\t\t\tclass='"+a+" controller "+d+" value'\t\t\t\tonclick='App.toggle_filter(this)'\t\t\t>\t\t\t\t"+b+"\t\t\t</span>")})},a=function(a){var b,c,d;return b=(d=a.target.value)!=null?d.toLowerCase():void 0,c=$(a.target).closest(".accordion-group").find(".value"),b.length>0?c.each(function(a,c){return b===$(c).attr("data-searcher").substr(0,b.length)?$(c).css("display","inherit"):$(c).css("display","none")}):c.css("display","inherit")},App.sort_orders=[{name:"a_to_z",text:"A &rarr; Z","function":function(a){return a.key}},{name:"big_to_small",text:"Max &rarr; Min","function":function(a){return-a.value}}]}.call(this),function(){var a,b;this.App=this.App||{},App["export"]=function(c){var d,e,f,g,h;return console.log("exporting ",c),f=b(c),e=function(){var b,d,e;e=[];for(b=0,d=c.length;b<d;b++)h=c[b],e.push(a(h));return e}().join(""),d=f+e,console.log(f,e),g="data:text/csv;charset=UTF-8,"+encodeURIComponent(d),window.location=g},b=function(a){var b,c,d,e;return c=a[0],b=function(){var a,b,f;f=[];for(e=a=0,b=c.length;a<b;e=++a)d=c[e],f.push('"'+d+'"');return f}().join(",")+""},a=function(a){var b,c,d;return c=function(){var c,e,f;f=[];for(d=c=0,e=a.length;c<e;d=++c)b=a[d],f.push('"'+d+'"');return f}().join(",")},App.export_chart_data=function(){var a;return a=App.render_dashboard(),App["export"](a)}}.call(this),function(){var a,b,c=[].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1};this.App=this.App||{},$("#overlay").on("hidden",App.render_url_from_html_state),$("#overlay").on("shown",App.render_url_from_html_state),App.show_overlay=function(a,b){return $("#overlay").modal("show"),App.render_overlay_content(a,b)},App.render_overlay_content=function(d,e){var f,g,h,i,j,k,l,m,n,o,p,q,r;return n=(e!=null?e.per_page:void 0)||50,m=(e!=null?e.page:void 0)||1,console.log("overlay with:",e,"| page:",m,"| per_page:",n),console.log("Getting all filters",d),r=App.current_x_axis(),i=function(){var a,b,c,d;c=App.get_all_filters(),d=[];for(a=0,b=c.length;a<b;a++)g=c[a],g.key!==r&&d.push(g);return d}(),console.log("about to filter by click with x-axis",r),h=App.projects.where(function(a,b){var e;return e=!1,a.get(r,b)===""+d&&(e=!0,i.forEach(function(d){var f;if(d.values.length>0&&!(f=a.get(d.key,b),c.call(d.values,f)>=0))return e=!1})),e}),console.log("filtering by ",i,"returned",h),h=h[0].map(function(a,b){var c;return c={},App.attributes.map(function(a){return h[a].type!=="numeric"?c[a]=h[a].lut[h[a][b]]:c[a]=h[a][b]}),c}),h=_.sortBy(h,function(a){return-a[App.values[0]]}),l=h.length,q=(m-1)*n,f=q+n,f>l&&(f=l-1),p=function(){var a,c;c=[];for(j=a=q;q<=f?a<=f:a>=f;j=q<=f?++a:--a)c.push(b(h[j],j));return c}(),console.log("from "+q+" to "+f+" found "+p.length+" rows:"),m>1&&(o="<span class='pager-modal' onclick='App.render_overlay_content(\""+d+'", {page: '+(m-1)+"})'>\t\t\t\t&larr; Prev \t\t\t</span>"),l>m*n&&(k="<span class='pager-modal'  onclick='App.render_overlay_content(\""+d+'", {page: '+(m+1)+"})'>\t\t\t\tNext &rarr; \t\t\t</span>"),$("#overlay_header").html("\t\t\t"+(o||"")+"\t\t\t<span id='overlay_target'>"+d+"</span>:\t\t\tShowing records "+(q+1)+"-"+(f+1)+" of "+h.length+".\t\t\t"+(k||"")+"\t "),$(".modal-body").html("<table class='table table-hover'>\t\t\t"+a(App.projects)+"\t\t\t"+p.join("")+"\t\t</table>"),$(".overlay-tooltip").tooltip(),$(".modal-footer #page-number").text(m)},a=function(a){var b,c;return c=function(){var c,d,e;e=[];for(c=0,d=a.length;c<d;c++)b=a[c],e.push(b.name);return e}(),"<tr><th>#</th><th> "+c.join("</th><th>")+"</th></tr>"},b=function(a,b){var c,d,e,f,g,h,i,j;h=[],h=_.values(a);for(g=i=0,j=a.length;i<j;g=++i)f=a[g],h[f]=g;return(e=App.config.data.record_hyperlink_function)?(d=e(a),c="<td>\t\t\t\t<a class='overlay-tooltip' \t\t\t\t\tdata-toggle='tooltip' \t\t\t\t\tdata-placement = 'right'\t\t\t\t\ttitle='See this record in a new window'\t\t\t\t\tstyle='color:#28a;' \t\t\t\t\thref='"+d+"'\t\t\t\t\ttarget='_blank'>\t\t\t\t\t"+(b+1)+" <i class='icon-share'></i>\t\t\t\t</a>\t\t\t</td>"):c="<td>"+(b+1)+"</td>","<tr>"+c+"<td>"+h.join("</td><td>")+"</td></tr>"}}.call(this),function(){this.App=this.App||{},$("#chart_title").text(App.config.chart_title),$("#chart_longer_title").text(App.config.chart_longer_title),Finch.route("/",function(a){console.log("called Home!");if(!App.initialized)return App.initialize(App.config.data.file);if(App.initialized)return console.log("Router: ",App.initialized)}),console.log("Listening!"),Finch.listen(),App.start_url_observer=function(){return console.log("Starting observer"),Finch.observe(function(a){var b,c,d,e;console.log("observing...");if(b=a("overlay"))d=parseInt(a("page")),c=a("overlay_target"),console.log("Observing overlay:",b,d,c);return a("remove_blanks")==="true"?App.set_remove_blanks(!0):App.set_remove_blanks(!1),App.sort_order(a("sort_order")),App.current_x_axis(a("x_axis")),a("y_axis")!==App.current_y_axis()?(e=a("y_axis"),App.current_y_axis(e)):App.current_y_axis()||App.current_y_axis(App.values[0]),console.log("Finch observing filters:",App.filters),App.filters.forEach(function(b){var c;if(c=a(b))return console.log(b,c),c.split(App.config.param_joiner).forEach(function(a){return console.log(a),App.set_filter(b,a,"active")})}),b?App.show_overlay(c,{page:d}):App.render_dashboard()}),App.respond_to_html_changes=!0,Finch.navigate("/",{initialize:!0},!0)}}.call(this);