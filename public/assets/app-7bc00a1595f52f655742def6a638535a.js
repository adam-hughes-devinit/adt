((function(){$(function(){return $(".dropdown-toggle").dropdown()}),Array.prototype.getUnique=function(){var a,b,c,d,e,f;d={},a=[];for(b=e=0,f=this.length;e<f;b=++e){c=this[b];if(d.hasOwnProperty(c))continue;a.push(c),d[c]=1}return a},this.nice_money=function(a){return typeof d3!="undefined"&&d3!==null?1e3>=a?""+d3.format("0,r")(d3.round(a,0)):1e6>a&&a>=1e3?""+d3.round(a/1e3,0)+" K":1e9>a&&a>=1e6?""+d3.round(a/1e6,1)+" M":a>=1e9?""+d3.format("0,r")(d3.round(a/1e9,2))+" B":a:(console.log("nice_money requires D3"),a)},String.prototype.pluralize=function(a,b){return a===1?this:(b||(b=this+"s"),b)},this.remove_fields=function(a){if(confirm("Are you sure?"))return this.changed=!0,$(a).prev("input[type=hidden]").val("1"),$(a).closest(".fields").slideUp()},this.add_fields=function(a,b,c){var d,e,f;return this.changed=!0,e=(new Date).getTime(),f=new RegExp("new_"+b,"g"),d=$(c.replace(f,e)),$(a).parent().after(d.hide()),d.slideDown()}})).call(this);